<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ElGamal Demo</title>
</head>
<body>
<h1>ElGamal Cryptographic System</h1>
<div>
    <p><strong>Key Generation</strong></p>
    <table>
        <tr>
            <td>P:</td>
            <td><input id="P" type="number" min="1"></td>
            <td>(a prime number greater than 200)</td>
            <td id="pError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>Q:</td>
            <td><input id="Q" type="number" min="1"></td>
            <td>(the prime order)</td>
            <td id="qError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>G:</td>
            <td><input id="G" type="number" min="1"></td>
            <td>(a generator of the cyclic group)</td>
            <td id="gError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>Private Key X :</td>
            <td><input id="X" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="xError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>
                <button onclick="generateKey()">Generate</button>
            </td>
        </tr>
        <tr>
            <td>Y:</td>
            <td><input id="Y" type="number" readonly></td>
            <td>(Y = G<sup>X</sup> mod P)</td>
        </tr>
        <tr>
            <td>Public Key:</td>
            <td><input id="pubkey" type="text" readonly></td>
            <td>({P, G, Y})</td>
        </tr>
    </table>
</div>
<div>
    <p><strong>Encryption and Decryption</strong></p>
    <table>
        <tr>
            <td>Message:</td>
            <td><input id="M" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="mError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>k:</td>
            <td><input id="k" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="kError" style="color: crimson"></td>
        </tr>
        <tr>
            <td>
                <button id="encryptButton" onclick="encryptButtonClicked()" disabled>Encrypt</button>
            </td>
        </tr>
        <tr>
            <td>C<sub>1</sub>:</td>
            <td><input id="C1" type="number" readonly></td>
            <td>(C<sub>1</sub> = G<sup>k</sup> mod P)</td>
        </tr>
        <tr>
            <td>C<sub>2</sub>:</td>
            <td><input id="C2" type="number" readonly></td>
            <td>(C<sub>2</sub> = Y<sup>k</sup> * M mod P)</td>
        </tr>
        <tr>
            <td>Cipher:</td>
            <td><input id="cipher" type="text" readonly></td>
            <td>(C<sub>1</sub>, C<sub>2</sub>)</td>
        </tr>
        <tr>
            <td>
                <button id="decryptButton" onclick="decryptButtonClicked()" disabled>Decrypt</button>
            </td>
        </tr>
        <tr>
            <td>Decrypted Message:</td>
            <td><input id="decrypted" type="number" readonly></td>
            <td>(M = (C<sub>2</sub> / C<sub>1</sub><sup>X</sup>) mod P)</td>
        </tr>
    </table>
</div>
<div>
    <p><strong>Multiplication Over Encrypted Data</strong></p>
    <table>
        <tr>
            <td>N<sub>0</sub>:</td>
            <td><input id="N0" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="n0Error" style="color: crimson"></td>
            <td>k<sub>0</sub>:</td>
            <td><input id="k0" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="k0Error" style="color: crimson"></td>
        </tr>
        <tr>
            <td>N<sub>1</sub>:</td>
            <td><input id="N1" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="n1Error" style="color: crimson"></td>
            <td>k<sub>1</sub>:</td>
            <td><input id="k1" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="k1Error" style="color: crimson"></td>
        </tr>
        <tr>
            <td>N<sub>2</sub>:</td>
            <td><input id="N2" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="n2Error" style="color: crimson"></td>
            <td>k<sub>2</sub>:</td>
            <td><input id="k2" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="k2Error" style="color: crimson"></td>
        </tr>
        <tr>
            <td>N<sub>3</sub>:</td>
            <td><input id="N3" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="n3Error" style="color: crimson"></td>
            <td>k<sub>3</sub>:</td>
            <td><input id="k3" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="k3Error" style="color: crimson"></td>
        </tr>
        <tr>
            <td>N<sub>4</sub>:</td>
            <td><input id="N4" type="number"></td>
            <td>(an integer less than P)</td>
            <td id="n4Error" style="color: crimson"></td>
            <td>k<sub>4</sub>:</td>
            <td><input id="k4" type="number"></td>
            <td>(enter a random integer between 1 and Q - 1 inclusive or let program generate)</td>
            <td id="k4Error" style="color: crimson"></td>
        </tr>
        <tr>
            <td>
                <button id="encryptAllButton" onclick="encryptAll()" disabled>Encrypt All</button>
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td>Encrypted N<sub>0</sub></td>
            <td>Encrypted N<sub>1</sub></td>
            <td>Encrypted N<sub>2</sub></td>
            <td>Encrypted N<sub>3</sub></td>
            <td>Encrypted N<sub>4</sub></td>
        </tr>
        <tr>
            <td><input id="EncN0" type="text" readonly></td>
            <td><input id="EncN1" type="text" readonly></td>
            <td><input id="EncN2" type="text" readonly></td>
            <td><input id="EncN3" type="text" readonly></td>
            <td><input id="EncN4" type="text" readonly></td>
        </tr>
    </table>
    <table>
        <tr>
            <td>
                <button id="multiplyAndCompareButton" onclick="multiplyAndCompare()" disabled>Multiply and Compare
                </button>
            </td>
        </tr>
        <tr>
            <td>Product of the Encrypted Numbers:</td>
            <td><input id="productC" type="text" readonly></td>
        </tr>
        <tr>
            <td>Product of the Plain Numbers:</td>
            <td><input id="productP" type="number" readonly></td>
        </tr>
        <tr>
            <td>Decrypted Product of the Encrypted Numbers</td>
            <td><input id="decryptedPC" type="number" readonly></td>
        </tr>
    </table>
</div>
<script src="javascript/elgamal.js"></script>
</body>
</html>